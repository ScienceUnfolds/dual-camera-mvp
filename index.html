<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astrology Tool</title>
    <!--
        This script tag loads Tailwind CSS, a utility-first CSS framework.
        We use it for all the styling (colors, layout, spacing, etc.).
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            /* Sets the default font for the entire page */
            font-family: 'Inter', sans-serif;
            background-image: url('https://placehold.co/1920x1080/0d1117/e5e7eb?text=Starry+Background');
            background-size: cover;
            background-position: center;
        }
        /* Defines the keyframes for a simple fade-in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="text-white flex flex-col items-center justify-center min-h-screen p-4">
    <!--
        This is the main container for the app.
        It's styled with a dark, semi-transparent background, rounded corners,
        and a subtle shadow to make it stand out.
    -->
    <div class="bg-gray-900 bg-opacity-70 shadow-2xl rounded-xl p-8 max-w-lg w-full transform transition-all duration-300 hover:scale-105">
        <!-- Main heading for the app -->
        <h1 class="text-4xl font-bold text-center mb-6 text-yellow-300 drop-shadow-lg">Astrology Sun Sign Calculator</h1>
        <!-- A short descriptive paragraph -->
        <p class="text-center text-gray-300 mb-8">Enter your date of birth to discover your zodiac Sun Sign and its characteristics!</p>

        <!--
            The main form for user input.
            It has an ID for easy access in JavaScript.
        -->
        <form id="astrology-form" class="space-y-6">
            <!-- Person Name input field -->
            <div class="relative">
                <label for="person-name" class="block text-sm font-medium text-gray-400 mb-2">Your Name</label>
                <input
                    type="text"
                    id="person-name"
                    placeholder="e.g., Jane Doe"
                    required
                    class="w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"
                />
            </div>
            <!-- Date of Birth input field -->
            <div class="relative">
                <label for="birth-date" class="block text-sm font-medium text-gray-400 mb-2">Date of Birth</label>
                <input
                    type="date"
                    id="birth-date"
                    required
                    class="w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"
                />
            </div>
            <!-- Submit button to trigger the sun sign calculation -->
            <button
                type="submit"
                id="submit-btn"
                class="w-full py-3 px-6 bg-yellow-500 text-gray-900 font-bold rounded-lg shadow-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-300 transform hover:scale-105"
            >
                Calculate My Sun Sign
            </button>
        </form>

        <!--
            This container will hold the results after the form is submitted.
            It is initially hidden with the 'hidden' class.
        -->
        <div id="results-container" class="mt-8 p-6 bg-gray-800 rounded-xl shadow-inner border border-gray-700 hidden animate-fade-in">
            <!-- Results will be dynamically inserted here by the JavaScript code -->
        </div>
    </div>

    <!--
        ========================================
        JavaScript section starts here
        ========================================
    -->
    <script>
        // Fetches all the necessary HTML elements using their unique IDs.
        const form = document.getElementById('astrology-form');
        const personNameInput = document.getElementById('person-name');
        const birthDateInput = document.getElementById('birth-date');
        const resultsContainer = document.getElementById('results-container');

        // This is a mapping of dates to their corresponding Sun Signs.
        // It's a key part of this new, API-free approach.
        const zodiacSigns = [
            { sign: 'Capricorn', start: { month: 0, day: 20 } }, // Jan 20
            { sign: 'Aquarius', start: { month: 1, day: 19 } },  // Feb 19
            { sign: 'Pisces', start: { month: 2, day: 20 } },    // Mar 20
            { sign: 'Aries', start: { month: 3, day: 21 } },     // Apr 21
            { sign: 'Taurus', start: { month: 4, day: 21 } },    // May 21
            { sign: 'Gemini', start: { month: 5, day: 21 } },    // Jun 21
            { sign: 'Cancer', start: { month: 6, day: 23 } },    // Jul 23
            { sign: 'Leo', start: { month: 7, day: 23 } },       // Aug 23
            { sign: 'Virgo', start: { month: 8, day: 23 } },     // Sep 23
            { sign: 'Libra', start: { month: 9, day: 23 } },     // Oct 23
            { sign: 'Scorpio', start: { month: 10, day: 22 } },  // Nov 22
            { sign: 'Sagittarius', start: { month: 11, day: 22 } }, // Dec 22
            { sign: 'Capricorn', start: { month: 11, day: 31 } } // Wrap-around for Capricorn
        ];
        
        // This object stores a detailed horoscope description for each sign.
        const horoscopeDescriptions = {
            'Aries': {
                emoji: '♈️',
                description: "Aries is a Fire sign ruled by Mars. As the first sign of the zodiac, Aries individuals are known for their pioneering spirit, boundless energy, and fierce independence. They are natural leaders, courageous, and direct, often tackling challenges head-on. On the flip side, they can be impulsive, competitive, and impatient. They thrive on action and are always ready for a new adventure."
            },
            'Taurus': {
                emoji: '♉️',
                description: "Taurus is an Earth sign ruled by Venus. Taureans are grounded, dependable, and practical. They appreciate the finer things in life, seeking comfort, stability, and beauty in their surroundings. They are known for their stubbornness, but this also translates to incredible determination and loyalty. They are patient, hard-working, and have a strong connection to the natural world."
            },
            'Gemini': {
                emoji: '♊️',
                description: "Gemini is an Air sign ruled by Mercury. Represented by the Twins, Geminis are adaptable, curious, and witty communicators. They have a thirst for knowledge and are constantly seeking new information and experiences. Their dual nature can make them seem inconsistent or indecisive, but it also gives them a unique ability to see both sides of any issue. They are social butterflies, charming and full of life."
            },
            'Cancer': {
                emoji: '♋️',
                description: "Cancer is a Water sign ruled by the Moon. Cancers are deeply intuitive, compassionate, and nurturing individuals. They are protective of their loved ones and have a strong emotional intelligence. Like the crab that symbolizes them, they can be sensitive and prone to withdrawing into their shell when feeling threatened. Their strong family bonds and home-loving nature are central to their identity."
            },
            'Leo': {
                emoji: '♌️',
                description: "Leo is a Fire sign ruled by the Sun. Leos are confident, charismatic, and natural-born leaders. They love to be in the spotlight and have a flair for the dramatic. Their generous and warm-hearted nature makes them fiercely loyal friends and partners. While they can be a bit prideful and stubborn, their passion and creativity are truly inspiring to those around them."
            },
            'Virgo': {
                emoji: '♍️',
                description: "Virgo is an Earth sign ruled by Mercury. Virgos are analytical, meticulous, and practical. They have a keen eye for detail and a desire for perfection, which makes them excellent problem-solvers and organizers. They are kind-hearted and dedicated, always ready to lend a helping hand. They can be overly critical of themselves and others, but their intentions are always pure and rooted in a desire to improve."
            },
            'Libra': {
                emoji: '♎️',
                description: "Libra is an Air sign ruled by Venus. Libras are all about balance, harmony, and justice. They are charming, diplomatic, and have a deep appreciation for beauty and art. They strive to maintain peace and fairness in all relationships and situations. Their indecisiveness can be a challenge, but it stems from their desire to consider every perspective before making a decision. They are cooperative and social, enjoying partnerships of all kinds."
            },
            'Scorpio': {
                emoji: '♏️',
                description: "Scorpio is a Water sign ruled by Pluto and Mars. Scorpios are known for their intensity, passion, and magnetic personality. They are fiercely determined and resourceful, often diving deep into the mysteries of life. While they can be secretive and misunderstood, their loyalty and protective nature are unmatched. Their transformative power allows them to rebuild and reinvent themselves from the ground up."
            },
            'Sagittarius': {
                emoji: '♐️',
                description: "Sagittarius is a Fire sign ruled by Jupiter. Sagittarians are the adventurers of the zodiac, with an optimistic and philosophical outlook on life. They have a love for travel, freedom, and learning, always seeking new horizons. Their honesty can sometimes be brutally blunt, but it comes from a place of genuine sincerity. They are humorous, open-minded, and inspire those around them to explore the world."
            },
            'Capricorn': {
                emoji: '♑️',
                description: "Capricorn is an Earth sign ruled by Saturn. Capricorns are ambitious, disciplined, and responsible. They are the masters of self-control, always working towards their long-term goals with unwavering determination. While they can appear reserved or serious, they have a dry sense of humor and a deep loyalty to their inner circle. They value tradition and are the rock that others can depend on."
            },
            'Aquarius': {
                emoji: '♒️',
                description: "Aquarius is an Air sign ruled by Uranus and Saturn. Aquarians are the innovators and humanitarians of the zodiac. They are intellectual, eccentric, and value their independence above all else. They are driven by a desire for social change and are often involved in causes that benefit humanity. Their unique perspective can make them seem detached, but they are deeply caring and dedicated to their ideals."
            },
            'Pisces': {
                emoji: '♓️',
                description: "Pisces is a Water sign ruled by Neptune. As the last sign of the zodiac, Pisces individuals are empathetic, artistic, and deeply intuitive. They are dreamers with a rich inner world, often blurring the lines between fantasy and reality. Their compassionate and gentle nature makes them incredibly sensitive to the emotions of others. They are selfless and often find solace in creative pursuits like music or art."
            }
        };

        /**
         * Calculates the Sun Sign based on a given birth date.
         * This function iterates through the zodiacSigns array to find the correct sign.
         * @param {Date} birthDate The user's date of birth.
         * @returns {string} The name of the zodiac sign.
         */
        function getSunSign(birthDate) {
            const birthMonth = birthDate.getMonth();
            const birthDay = birthDate.getDate();

            let sunSign = '';
            for (let i = 0; i < zodiacSigns.length; i++) {
                const currentSign = zodiacSigns[i];
                const nextSign = zodiacSigns[(i + 1) % zodiacSigns.length];

                // Special handling for the Capricorn wrap-around, since it spans two months.
                if (currentSign.sign === 'Capricorn' && birthMonth === 11 && birthDay >= currentSign.start.day) {
                    sunSign = 'Capricorn';
                    break;
                }
                
                // Check if the birth date falls between the start dates of two signs.
                if ((birthMonth === currentSign.start.month && birthDay >= currentSign.start.day) ||
                    (birthMonth === nextSign.start.month && birthDay < nextSign.start.day)) {
                    sunSign = currentSign.sign;
                    break;
                }
            }
            return sunSign;
        }

        // This is the main function that runs when the form is submitted.
        form.addEventListener('submit', (e) => {
            // e.preventDefault() stops the form from reloading the page.
            e.preventDefault();

            // Get the values from the form inputs.
            const personName = personNameInput.value;
            const birthDateValue = birthDateInput.value;

            // Simple validation to ensure the date is entered.
            if (!birthDateValue) {
                // Use a modal-like approach instead of `alert()`
                displayModal('Please enter a valid date of birth.');
                return;
            }

            // Create a Date object from the input value.
            const birthDate = new Date(birthDateValue);

            // Calculate the Sun Sign using our custom function.
            const sunSign = getSunSign(birthDate);

            // Display the results to the user.
            displayResults(personName, sunSign);
        });
        
        /**
         * Displays a simple message to the user, replacing the alert().
         * @param {string} message The message to be displayed.
         */
        function displayModal(message) {
            const modalHtml = `
                <div id="custom-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                    <div class="bg-gray-800 p-6 rounded-lg shadow-xl text-center w-full max-w-sm">
                        <p class="text-white text-lg mb-4">${message}</p>
                        <button onclick="document.getElementById('custom-modal').remove()" class="bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded-lg hover:bg-yellow-400 transition-colors duration-200">
                            OK
                        </button>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHtml);
        }

        // This function takes the person's name and Sun Sign,
        // then generates the HTML to display the results in the results container.
        function displayResults(name, sign) {
            // Get the detailed description for the calculated sign.
            const signData = horoscopeDescriptions[sign];
            
            resultsContainer.classList.remove('hidden'); // Makes the results container visible
            resultsContainer.innerHTML = `
                <h2 class="text-2xl font-bold mb-4 text-center text-yellow-300">Your Astrological Profile</h2>
                <div class="space-y-4 text-gray-300">
                    <p>Hello <span class="font-semibold text-yellow-200">${name || 'Friend'}</span>,</p>
                    <p>Based on your date of birth, your Sun Sign is:</p>
                    <p class="text-center text-5xl font-extrabold text-yellow-400 drop-shadow-xl">${sign} ${signData.emoji}</p>
                    <hr class="border-gray-700" />
                    <div class="p-4 bg-gray-900 rounded-lg shadow-inner">
                        <h3 class="text-xl font-bold text-yellow-300 mb-2">${sign} Traits</h3>
                        <p class="text-sm leading-relaxed">${signData.description}</p>
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
