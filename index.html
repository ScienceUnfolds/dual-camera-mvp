<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astrology Tool</title>
    <!--
        This script tag loads Tailwind CSS, a utility-first CSS framework.
        We use it for all the styling (colors, layout, spacing, etc.).
    -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            /* Sets the default font for the entire page */
            font-family: 'Inter', sans-serif;
            background-image: url('https://placehold.co/1920x1080/0d1117/e5e7eb?text=Starry+Background');
            background-size: cover;
            background-position: center;
        }
        /* Defines the keyframes for a simple fade-in animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="text-white flex flex-col items-center justify-center min-h-screen p-4">
    <!--
        This is the main container for the app.
        It's styled with a dark, semi-transparent background, rounded corners,
        and a subtle shadow to make it stand out.
    -->
    <div class="bg-gray-900 bg-opacity-70 shadow-2xl rounded-xl p-8 max-w-md w-full transform transition-all duration-300 hover:scale-105">
        <!-- Main heading for the app -->
        <h1 class="text-4xl font-bold text-center mb-6 text-yellow-300 drop-shadow-lg">Astrology Sun Sign Calculator</h1>
        <!-- A short descriptive paragraph -->
        <p class="text-center text-gray-300 mb-8">Enter your date of birth to discover your zodiac Sun Sign!</p>

        <!--
            The main form for user input.
            It has an ID for easy access in JavaScript.
        -->
        <form id="astrology-form" class="space-y-6">
            <!-- Person Name input field -->
            <div class="relative">
                <label for="person-name" class="block text-sm font-medium text-gray-400 mb-2">Your Name</label>
                <input
                    type="text"
                    id="person-name"
                    placeholder="e.g., Jane Doe"
                    required
                    class="w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"
                />
            </div>
            <!-- Date of Birth input field -->
            <div class="relative">
                <label for="birth-date" class="block text-sm font-medium text-gray-400 mb-2">Date of Birth</label>
                <input
                    type="date"
                    id="birth-date"
                    required
                    class="w-full px-4 py-3 bg-gray-800 text-white rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-colors duration-200"
                />
            </div>
            <!-- Submit button to trigger the sun sign calculation -->
            <button
                type="submit"
                id="submit-btn"
                class="w-full py-3 px-6 bg-yellow-500 text-gray-900 font-bold rounded-lg shadow-lg hover:bg-yellow-400 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-300 transform hover:scale-105"
            >
                Calculate My Sun Sign
            </button>
        </form>

        <!--
            This container will hold the results after the form is submitted.
            It is initially hidden with the 'hidden' class.
        -->
        <div id="results-container" class="mt-8 p-6 bg-gray-800 rounded-xl shadow-inner border border-gray-700 hidden animate-fade-in">
            <!-- Results will be dynamically inserted here by the JavaScript code -->
        </div>
    </div>

    <!--
        ========================================
        JavaScript section starts here
        ========================================
    -->
    <script>
        // Fetches all the necessary HTML elements using their unique IDs.
        const form = document.getElementById('astrology-form');
        const personNameInput = document.getElementById('person-name');
        const birthDateInput = document.getElementById('birth-date');
        const resultsContainer = document.getElementById('results-container');

        // This is a mapping of dates to their corresponding Sun Signs.
        // It's a key part of this new, API-free approach.
        const zodiacSigns = [
            { sign: 'Capricorn', start: { month: 0, day: 20 } }, // Jan 20
            { sign: 'Aquarius', start: { month: 1, day: 19 } },  // Feb 19
            { sign: 'Pisces', start: { month: 2, day: 20 } },    // Mar 20
            { sign: 'Aries', start: { month: 3, day: 21 } },     // Apr 21
            { sign: 'Taurus', start: { month: 4, day: 21 } },    // May 21
            { sign: 'Gemini', start: { month: 5, day: 21 } },    // Jun 21
            { sign: 'Cancer', start: { month: 6, day: 23 } },    // Jul 23
            { sign: 'Leo', start: { month: 7, day: 23 } },       // Aug 23
            { sign: 'Virgo', start: { month: 8, day: 23 } },     // Sep 23
            { sign: 'Libra', start: { month: 9, day: 23 } },     // Oct 23
            { sign: 'Scorpio', start: { month: 10, day: 22 } },  // Nov 22
            { sign: 'Sagittarius', start: { month: 11, day: 22 } }, // Dec 22
            { sign: 'Capricorn', start: { month: 11, day: 31 } } // Wrap-around for Capricorn
        ];

        /**
         * Calculates the Sun Sign based on a given birth date.
         * This function iterates through the zodiacSigns array to find the correct sign.
         * @param {Date} birthDate The user's date of birth.
         * @returns {string} The name of the zodiac sign.
         */
        function getSunSign(birthDate) {
            const birthMonth = birthDate.getMonth();
            const birthDay = birthDate.getDate();

            let sunSign = '';
            for (let i = 0; i < zodiacSigns.length; i++) {
                const currentSign = zodiacSigns[i];
                const nextSign = zodiacSigns[(i + 1) % zodiacSigns.length];

                // Check if the birth date falls between the start dates of two signs.
                if ((birthMonth === currentSign.start.month && birthDay >= currentSign.start.day) ||
                    (birthMonth === nextSign.start.month && birthDay < nextSign.start.day)) {
                    sunSign = currentSign.sign;
                    break;
                }
            }
            return sunSign;
        }

        // This is the main function that runs when the form is submitted.
        form.addEventListener('submit', (e) => {
            // e.preventDefault() stops the form from reloading the page.
            e.preventDefault();

            // Get the values from the form inputs.
            const personName = personNameInput.value;
            const birthDateValue = birthDateInput.value;

            // Simple validation to ensure the date is entered.
            if (!birthDateValue) {
                alert('Please enter a valid date of birth.');
                return;
            }

            // Create a Date object from the input value.
            const birthDate = new Date(birthDateValue);

            // Calculate the Sun Sign using our custom function.
            const sunSign = getSunSign(birthDate);

            // Display the results to the user.
            displayResults(personName, sunSign);
        });

        // This function takes the person's name and Sun Sign,
        // then generates the HTML to display the results in the results container.
        function displayResults(name, sign) {
            resultsContainer.classList.remove('hidden'); // Makes the results container visible
            resultsContainer.innerHTML = `
                <h2 class="text-2xl font-bold mb-4 text-center text-yellow-300">Your Astrological Profile</h2>
                <div class="space-y-4 text-gray-300">
                    <p>Hello <span class="font-semibold text-yellow-200">${name || 'Friend'}</span>,</p>
                    <p>Based on your date of birth, your Sun Sign is:</p>
                    <p class="text-center text-5xl font-extrabold text-yellow-400 drop-shadow-xl">${sign}</p>
                </div>
            `;
        }
    </script>
</body>
</html>
